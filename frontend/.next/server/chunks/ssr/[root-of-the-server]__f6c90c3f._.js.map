{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/navratri_mumbai/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nexport default function Home() {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [streams, setStreams] = useState<Array<{ id: number; name: string; url: string; backendId?: string }>>([]);\n  const [showAdd, setShowAdd] = useState(false);\n  const [newName, setNewName] = useState(\"\");\n  const [newUrl, setNewUrl] = useState(\"\");\n  const nextId = useMemo(() => (streams.length ? Math.max(...streams.map(s => s.id)) + 1 : 1), [streams]);\n  const [logs] = useState<string[]>([\n    \"System ready\",\n    \"Awaiting streams\",\n    \"No alerts\",\n  ]);\n\n  const StreamLabel = ({ label }: { label: string }) => (\n    <span className=\"text-white/70\">{label}</span>\n  );\n\n  return (\n    <div className=\"h-dvh w-full bg-black text-white overflow-hidden\">\n      <div className=\"mx-auto max-w-[1200px] px-6 py-6 h-full\">\n        {/* Header */}\n        <h1 className=\"text-[32px] font-bold tracking-wide\">LIVE FACE DETECTION</h1>\n\n        {/* Content area */}\n        <div className=\"mt-6 h-[calc(100%-64px)] grid grid-cols-[1fr_320px] gap-6\">\n          {/* Stream tiles container */}\n          <div className=\"bg-panel rounded-2xl p-6 h-full overflow-auto\">\n            <div className=\"flex flex-wrap gap-6\">\n              {streams.map((s) => (\n                <div key={s.id} className=\"relative w-[220px] h-[130px] flex-none\">\n                  <button\n                    onClick={() => setIsFullscreen(true)}\n                    className=\"absolute inset-0 bg-[#8f8f8f] text-black rounded-2xl flex items-end justify-start p-4 hover:opacity-95 transition cursor-pointer\"\n                    aria-label={`Expand ${s.name}`}\n                    title=\"Expand\"\n                  >\n                    <span className=\"text-white/90\">{s.name}</span>\n                  </button>\n                  {/* Delete */}\n                  <button\n                    onClick={async (e) => {\n                      e.stopPropagation();\n                      setStreams((prev) => prev.filter((x) => x.id !== s.id));\n                      if (s.backendId) {\n                        try {\n                          await fetch(`/api/streams?id=${encodeURIComponent(s.backendId)}`, { method: \"DELETE\" });\n                        } catch {}\n                      }\n                    }}\n                    className=\"absolute -right-2 -top-2 h-7 w-7 rounded-full bg-black/70 text-white grid place-items-center hover:bg-black\"\n                    aria-label={`Delete ${s.name}`}\n                    title=\"Delete\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"h-4 w-4\">\n                      <path d=\"M3 6h18M9 6v12m6-12v12M5 6l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-14M8 6l1-2h6l1 2\" />\n                    </svg>\n                  </button>\n                </div>\n              ))}\n              {/* Add tile */}\n              <button\n                onClick={() => {\n                  setShowAdd(true);\n                  setNewName(\"\");\n                  setNewUrl(\"\");\n                }}\n                className=\"bg-tile rounded-2xl w-[220px] h-[130px] flex items-center justify-center hover:opacity-90 transition flex-none\"\n                aria-label=\"Add stream\"\n                title=\"Add\"\n              >\n                <div className=\"relative h-8 w-8\">\n                  <div className=\"absolute left-1/2 top-0 h-8 w-[2px] -translate-x-1/2 bg-black/70\"></div>\n                  <div className=\"absolute top-1/2 left-0 w-8 h-[2px] -translate-y-1/2 bg-black/70\"></div>\n                </div>\n              </button>\n            </div>\n          </div>\n\n          {/* Right: logs panel */}\n          <aside className=\"bg-subpanel rounded-2xl p-6 h-full flex flex-col justify-between\">\n            <div className=\"space-y-4 overflow-auto\">\n              {logs.map((l, idx) => (\n                <div key={idx} className=\"h-14 rounded-full bg-chip px-4 flex items-center text-white/90\">\n                  {l}\n                </div>\n              ))}\n            </div>\n            <button className=\"mt-6 h-12 rounded-full btn-white px-6 text-lg font-medium self-start\">View All</button>\n          </aside>\n\n          {/* Fullscreen overlay (layout-only) */}\n          {isFullscreen && (\n            <div className=\"fixed inset-0 bg-black/50 z-50 grid place-items-center p-6\">\n              <div className=\"relative w-full max-w-5xl h-[80dvh] rounded-2xl bg-tile-active text-black\">\n                <button\n                  aria-label=\"Minimize stream\"\n                  onClick={() => setIsFullscreen(false)}\n                  className=\"absolute right-4 top-4 h-8 w-8 grid place-items-center rounded-md bg-white/70 text-black hover:bg-white transition\"\n                  title=\"Minimize\"\n                >\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"h-5 w-5\">\n                    <path d=\"M9 9L4 9L4 4M15 15L20 15L20 20\" />\n                    <path d=\"M9 9L4 4M15 15L20 20\" />\n                  </svg>\n                </button>\n                <div className=\"absolute bottom-4 right-4 text-[#4b4b4b] text-lg\">\n                  <StreamLabel label={streams[0]?.name || \"stream\"} />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Add Stream Modal */}\n          {showAdd && (\n            <div className=\"fixed inset-0 bg-black/40 z-50 grid place-items-center p-6\">\n              <div className=\"w-full max-w-[520px] rounded-2xl bg-[#3a3a3a] p-8 shadow-lg\">\n                <h2 className=\"text-2xl font-semibold\">Paste the link</h2>\n                <form\n                  className=\"mt-6 space-y-4\"\n                  onSubmit={async (e) => {\n                    e.preventDefault();\n                    const name = newName.trim() || `stream ${nextId}`;\n                    const url = newUrl.trim();\n                    try {\n                      const res = await fetch(\"/api/streams\", {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({ name, url }),\n                      });\n                      const data = await res.json().catch(() => ({}));\n                      const backendId: string | undefined = data?.stream?.id;\n                      setStreams((prev) => [...prev, { id: nextId, name, url, backendId }]);\n                    } catch {\n                      // fallback: still add locally\n                      setStreams((prev) => [...prev, { id: nextId, name, url }]);\n                    }\n                    setShowAdd(false);\n                  }}\n                >\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm text-white/80\">Name</label>\n                    <input\n                      value={newName}\n                      onChange={(e) => setNewName(e.target.value)}\n                      placeholder={`stream ${nextId}`}\n                      className=\"w-full h-11 rounded-full px-4 text-black outline-none border-0 bg-white\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm text-white/80\">Link</label>\n                    <input\n                      value={newUrl}\n                      onChange={(e) => setNewUrl(e.target.value)}\n                      placeholder=\"https://...\"\n                      className=\"w-full h-11 rounded-full px-4 text-black outline-none border-0 bg-white\"\n                    />\n                  </div>\n                  <div className=\"flex items-center gap-3 pt-2\">\n                    <button\n                      type=\"submit\"\n                      className=\"h-11 px-6 rounded-full btn-white text-base font-medium\"\n                    >\n                      Save\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowAdd(false)}\n                      className=\"h-11 px-6 rounded-full bg-chip text-white/90 text-base\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/navratri_mumbai/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/navratri_mumbai/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/navratri_mumbai/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}